{"ast":null,"code":"'use strict';\n\nconst symbols = require('../schema/symbols');\n\n/**\n * Filter predicate that returns true for built-in middleware (marked with `builtInMiddleware` symbol).\n */\nconst isBuiltInMiddleware = hook => hook.fn[symbols.builtInMiddleware];\n\n/**\n * Builds a filter for kareem's execPre/execPost based on middleware options.\n *\n * @param {Object} options - Options object that may contain `middleware` setting\n * @param {String} phase - Either 'pre' or 'post'\n * @returns {Function|null} - null runs all middleware, isBuiltInMiddleware skips user middleware\n */\nfunction buildMiddlewareFilter(options, phase) {\n  const shouldRun = options?.middleware?.[phase] ?? options?.middleware ?? true;\n  return shouldRun ? null : isBuiltInMiddleware;\n}\nmodule.exports = {\n  buildMiddlewareFilter\n};","map":{"version":3,"names":["symbols","require","isBuiltInMiddleware","hook","fn","builtInMiddleware","buildMiddlewareFilter","options","phase","shouldRun","middleware","module","exports"],"sources":["C:/Users/bhavn/OneDrive/Desktop/FINSIGHT/node_modules/mongoose/lib/helpers/buildMiddlewareFilter.js"],"sourcesContent":["'use strict';\n\nconst symbols = require('../schema/symbols');\n\n/**\n * Filter predicate that returns true for built-in middleware (marked with `builtInMiddleware` symbol).\n */\nconst isBuiltInMiddleware = hook => hook.fn[symbols.builtInMiddleware];\n\n/**\n * Builds a filter for kareem's execPre/execPost based on middleware options.\n *\n * @param {Object} options - Options object that may contain `middleware` setting\n * @param {String} phase - Either 'pre' or 'post'\n * @returns {Function|null} - null runs all middleware, isBuiltInMiddleware skips user middleware\n */\nfunction buildMiddlewareFilter(options, phase) {\n  const shouldRun = options?.middleware?.[phase] ?? options?.middleware ?? true;\n  return shouldRun ? null : isBuiltInMiddleware;\n}\n\nmodule.exports = {\n  buildMiddlewareFilter\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,mBAAmB,CAAC;;AAE5C;AACA;AACA;AACA,MAAMC,mBAAmB,GAAGC,IAAI,IAAIA,IAAI,CAACC,EAAE,CAACJ,OAAO,CAACK,iBAAiB,CAAC;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,qBAAqBA,CAACC,OAAO,EAAEC,KAAK,EAAE;EAC7C,MAAMC,SAAS,GAAGF,OAAO,EAAEG,UAAU,GAAGF,KAAK,CAAC,IAAID,OAAO,EAAEG,UAAU,IAAI,IAAI;EAC7E,OAAOD,SAAS,GAAG,IAAI,GAAGP,mBAAmB;AAC/C;AAEAS,MAAM,CAACC,OAAO,GAAG;EACfN;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}