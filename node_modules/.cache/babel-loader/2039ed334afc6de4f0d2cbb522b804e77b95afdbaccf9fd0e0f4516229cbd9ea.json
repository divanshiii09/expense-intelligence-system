{"ast":null,"code":"'use strict';\n\nconst Document = require('../document');\nconst internalToObjectOptions = require('../options').internalToObjectOptions;\nconst util = require('util');\nconst utils = require('../utils');\nmodule.exports = Subdocument;\n\n/**\n * Subdocument constructor.\n *\n * @inherits Document\n * @api private\n */\n\nfunction Subdocument(value, fields, parent, options) {\n  if (parent != null) {\n    // If setting a nested path, should copy isNew from parent re: gh-7048\n    const parentOptions = {\n      isNew: parent.isNew\n    };\n    if ('defaults' in parent.$__) {\n      parentOptions.defaults = parent.$__.defaults;\n    }\n    options = Object.assign(parentOptions, options);\n  }\n  if (options?.path != null) {\n    this.$basePath = options.path;\n  }\n  Document.call(this, value, fields, options);\n  delete this.$__.priorDoc;\n}\nSubdocument.prototype = Object.create(Document.prototype);\nObject.defineProperty(Subdocument.prototype, '$isSubdocument', {\n  configurable: false,\n  writable: false,\n  value: true\n});\nObject.defineProperty(Subdocument.prototype, '$isSingleNested', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.toBSON = function () {\n  return this.toObject(internalToObjectOptions);\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Object} [options]\n * @param {Boolean} [options.suppressWarning=false] If `true`, suppress the warning about calling `save()` on a subdoc.\n * @param {Boolean|Object} [options.middleware=true] set to `false` to skip all user-defined middleware\n * @param {Boolean} [options.middleware.pre=true] set to `false` to skip only pre hooks\n * @param {Boolean} [options.middleware.post=true] set to `false` to skip only post hooks\n * @return {Promise} resolved Promise\n * @api private\n */\n\nSubdocument.prototype.save = async function save(options) {\n  options = options || {};\n  if (!options.suppressWarning) {\n    utils.warn('mongoose: calling `save()` on a subdoc does **not** save ' + 'the document to MongoDB, it only runs save middleware. ' + 'Use `subdoc.save({ suppressWarning: true })` to hide this warning ' + 'if you\\'re sure this behavior is right for your app.');\n  }\n  return await this.$__save(options);\n};\n\n/**\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n * @param {String} path\n * @method $__fullPath\n * @memberOf Subdocument\n * @instance\n * @returns {String}\n * @api private\n */\n\nSubdocument.prototype.$__fullPath = function (path) {\n  if (!this.$__.fullPath) {\n    this.ownerDocument();\n  }\n  return path ? this.$__.fullPath + '.' + path : this.$__.fullPath;\n};\n\n/**\n * Given a path relative to this document, return the path relative\n * to the parent document.\n * @param {String} p\n * @returns {String}\n * @method $__pathRelativeToParent\n * @memberOf Subdocument\n * @instance\n * @api private\n */\n\nSubdocument.prototype.$__pathRelativeToParent = function (p) {\n  if (p == null) {\n    return this.$basePath;\n  }\n  if (!this.$basePath) {\n    return p;\n  }\n  return [this.$basePath, p].join('.');\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @method $__save\n * @api private\n */\n\nSubdocument.prototype.$__save = async function $__save(options) {\n  try {\n    await this._execDocumentPreHooks('save', options, [options]);\n  } catch (error) {\n    await this._execDocumentPostHooks('save', options, error);\n    return;\n  }\n  await this._execDocumentPostHooks('save', options);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$isValid = function (path) {\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    return parent.$isValid(fullPath);\n  }\n  return Document.prototype.$isValid.call(this, path);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.markModified = function (path) {\n  Document.prototype.markModified.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent == null || fullPath == null) {\n    return;\n  }\n  const myPath = this.$__pathRelativeToParent().replace(/\\.$/, '');\n  if (parent.isDirectModified(myPath) || this.isNew) {\n    return;\n  }\n  this.$__parent.markModified(fullPath, this);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.isModified = function (paths, options, modifiedPaths) {\n  const parent = this.$parent();\n  if (parent != null) {\n    if (Array.isArray(paths) || typeof paths === 'string') {\n      paths = Array.isArray(paths) ? paths : paths.split(' ');\n      paths = paths.map(p => this.$__pathRelativeToParent(p)).filter(p => p != null);\n    } else if (!paths) {\n      paths = this.$__pathRelativeToParent();\n    }\n    return parent.$isModified(paths, options, modifiedPaths);\n  }\n  return Document.prototype.isModified.call(this, paths, options, modifiedPaths);\n};\n\n/**\n * Marks a path as valid, removing existing validation errors.\n *\n * @param {String} path the field to mark as valid\n * @api private\n * @method $markValid\n * @memberOf Subdocument\n */\n\nSubdocument.prototype.$markValid = function (path) {\n  Document.prototype.$markValid.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$markValid(fullPath);\n  }\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.invalidate = function (path, err, val) {\n  Document.prototype.invalidate.call(this, path, err, val);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.invalidate(fullPath, err, val);\n  } else if (err.kind === 'cast' || err.name === 'CastError' || fullPath == null) {\n    throw err;\n  }\n  return this.ownerDocument().$__.validationError;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$ignore = function (path) {\n  Document.prototype.$ignore.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$ignore(fullPath);\n  }\n};\n\n/**\n * Returns the top level document of this sub-document.\n *\n * @return {Document}\n */\n\nSubdocument.prototype.ownerDocument = function () {\n  if (this.$__.ownerDocument) {\n    return this.$__.ownerDocument;\n  }\n  let parent = this;\n  const paths = [];\n  const seenDocs = new Set([parent]);\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, true));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n    seenDocs.add(parent);\n  }\n  this.$__.fullPath = paths.join('.');\n  this.$__.ownerDocument = parent;\n  return this.$__.ownerDocument;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$__fullPathWithIndexes = function () {\n  let parent = this;\n  const paths = [];\n  const seenDocs = new Set([parent]);\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, false));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n    seenDocs.add(parent);\n  }\n  return paths.join('.');\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n */\n\nSubdocument.prototype.parent = function () {\n  return this.$__parent;\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n * @method $parent\n */\n\nSubdocument.prototype.$parent = Subdocument.prototype.parent;\n\n/*!\n * Sets this sub-documents parent document.\n *\n * @api private\n */\n\nSubdocument.prototype.$__setParent = function $__setParent(parent) {\n  this.$__parent = parent;\n};\n\n/**\n * ignore\n * @method $__removeFromParent\n * @memberOf Subdocument\n * @instance\n * @api private\n */\n\nSubdocument.prototype.$__removeFromParent = function () {\n  this.$__parent.set(this.$basePath, null);\n};\n\n/**\n * Null-out this subdoc\n *\n * @param {Object} [options]\n */\n\nSubdocument.prototype.deleteOne = function deleteOne(options) {\n  registerRemoveListener(this);\n\n  // If removing entire doc, no need to remove subdoc\n  if (!options?.noop) {\n    this.$__removeFromParent();\n    const owner = this.ownerDocument();\n    owner.$__.removedSubdocs = owner.$__.removedSubdocs || [];\n    owner.$__.removedSubdocs.push(this);\n  }\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.populate = function () {\n  throw new Error('Mongoose does not support calling populate() on nested ' + 'docs. Instead of `doc.nested.populate(\"path\")`, use ' + '`doc.populate(\"nested.path\")`');\n};\n\n/**\n * Helper for console.log\n *\n * @api public\n */\n\nSubdocument.prototype.inspect = function () {\n  return this.toObject();\n};\nif (util.inspect.custom) {\n  // Avoid Node deprecation warning DEP0079\n  Subdocument.prototype[util.inspect.custom] = Subdocument.prototype.inspect;\n}\n\n/**\n * Override `$toObject()` to handle minimizing the whole path. Should not minimize if schematype-level minimize\n * is set to false re: gh-11247, gh-14058, gh-14151\n */\n\nSubdocument.prototype.$toObject = function $toObject(options, json) {\n  const ret = Document.prototype.$toObject.call(this, options, json);\n\n  // If `$toObject()` was called recursively, respect the minimize option, including schematype level minimize.\n  // If minimize is set, then we can minimize out the whole object.\n  if (utils.hasOwnKeys(ret) === false && options?._calledWithOptions != null) {\n    const minimize = options._calledWithOptions?.minimize ?? this?.$__schemaTypeOptions?.minimize ?? options.minimize;\n    if (minimize && !this.constructor.$__required) {\n      return undefined;\n    }\n  }\n  return ret;\n};\n\n/**\n * Registers remove event listeners for triggering\n * on subdocuments.\n *\n * @param {Subdocument} sub\n * @api private\n */\n\nfunction registerRemoveListener(sub) {\n  const owner = sub.ownerDocument();\n  function emitRemove() {\n    owner.$removeListener('save', emitRemove);\n    owner.$removeListener('deleteOne', emitRemove);\n    sub.emit('deleteOne', sub);\n    sub.constructor.emit('deleteOne', sub);\n  }\n  owner.$on('save', emitRemove);\n  owner.$on('deleteOne', emitRemove);\n}","map":{"version":3,"names":["Document","require","internalToObjectOptions","util","utils","module","exports","Subdocument","value","fields","parent","options","parentOptions","isNew","$__","defaults","Object","assign","path","$basePath","call","priorDoc","prototype","create","defineProperty","configurable","writable","toBSON","toObject","save","suppressWarning","warn","$__save","$__fullPath","fullPath","ownerDocument","$__pathRelativeToParent","p","join","_execDocumentPreHooks","error","_execDocumentPostHooks","$isValid","$parent","markModified","myPath","replace","isDirectModified","$__parent","isModified","paths","modifiedPaths","Array","isArray","split","map","filter","$isModified","$markValid","invalidate","err","val","kind","name","validationError","$ignore","seenDocs","Set","unshift","_parent","has","Error","_id","add","$__fullPathWithIndexes","$__setParent","$__removeFromParent","set","deleteOne","registerRemoveListener","noop","owner","removedSubdocs","push","populate","inspect","custom","$toObject","json","ret","hasOwnKeys","_calledWithOptions","minimize","$__schemaTypeOptions","constructor","$__required","undefined","sub","emitRemove","$removeListener","emit","$on"],"sources":["C:/Users/bhavn/OneDrive/Desktop/FINSIGHT/node_modules/mongoose/lib/types/subdocument.js"],"sourcesContent":["'use strict';\n\nconst Document = require('../document');\nconst internalToObjectOptions = require('../options').internalToObjectOptions;\nconst util = require('util');\nconst utils = require('../utils');\n\nmodule.exports = Subdocument;\n\n/**\n * Subdocument constructor.\n *\n * @inherits Document\n * @api private\n */\n\nfunction Subdocument(value, fields, parent, options) {\n  if (parent != null) {\n    // If setting a nested path, should copy isNew from parent re: gh-7048\n    const parentOptions = { isNew: parent.isNew };\n    if ('defaults' in parent.$__) {\n      parentOptions.defaults = parent.$__.defaults;\n    }\n    options = Object.assign(parentOptions, options);\n  }\n  if (options?.path != null) {\n    this.$basePath = options.path;\n  }\n  Document.call(this, value, fields, options);\n\n  delete this.$__.priorDoc;\n}\n\nSubdocument.prototype = Object.create(Document.prototype);\n\nObject.defineProperty(Subdocument.prototype, '$isSubdocument', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\nObject.defineProperty(Subdocument.prototype, '$isSingleNested', {\n  configurable: false,\n  writable: false,\n  value: true\n});\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.toBSON = function() {\n  return this.toObject(internalToObjectOptions);\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Object} [options]\n * @param {Boolean} [options.suppressWarning=false] If `true`, suppress the warning about calling `save()` on a subdoc.\n * @param {Boolean|Object} [options.middleware=true] set to `false` to skip all user-defined middleware\n * @param {Boolean} [options.middleware.pre=true] set to `false` to skip only pre hooks\n * @param {Boolean} [options.middleware.post=true] set to `false` to skip only post hooks\n * @return {Promise} resolved Promise\n * @api private\n */\n\nSubdocument.prototype.save = async function save(options) {\n  options = options || {};\n\n  if (!options.suppressWarning) {\n    utils.warn('mongoose: calling `save()` on a subdoc does **not** save ' +\n      'the document to MongoDB, it only runs save middleware. ' +\n      'Use `subdoc.save({ suppressWarning: true })` to hide this warning ' +\n      'if you\\'re sure this behavior is right for your app.');\n  }\n\n  return await this.$__save(options);\n};\n\n/**\n * Given a path relative to this document, return the path relative\n * to the top-level document.\n * @param {String} path\n * @method $__fullPath\n * @memberOf Subdocument\n * @instance\n * @returns {String}\n * @api private\n */\n\nSubdocument.prototype.$__fullPath = function(path) {\n  if (!this.$__.fullPath) {\n    this.ownerDocument();\n  }\n\n  return path ?\n    this.$__.fullPath + '.' + path :\n    this.$__.fullPath;\n};\n\n/**\n * Given a path relative to this document, return the path relative\n * to the parent document.\n * @param {String} p\n * @returns {String}\n * @method $__pathRelativeToParent\n * @memberOf Subdocument\n * @instance\n * @api private\n */\n\nSubdocument.prototype.$__pathRelativeToParent = function(p) {\n  if (p == null) {\n    return this.$basePath;\n  }\n  if (!this.$basePath) {\n    return p;\n  }\n  return [this.$basePath, p].join('.');\n};\n\n/**\n * Used as a stub for middleware\n *\n * #### Note:\n *\n * _This is a no-op. Does not actually save the doc to the db._\n *\n * @param {Function} [fn]\n * @method $__save\n * @api private\n */\n\nSubdocument.prototype.$__save = async function $__save(options) {\n  try {\n    await this._execDocumentPreHooks('save', options, [options]);\n  } catch (error) {\n    await this._execDocumentPostHooks('save', options, error);\n    return;\n  }\n\n  await this._execDocumentPostHooks('save', options);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$isValid = function(path) {\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    return parent.$isValid(fullPath);\n  }\n  return Document.prototype.$isValid.call(this, path);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.markModified = function(path) {\n  Document.prototype.markModified.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n\n  if (parent == null || fullPath == null) {\n    return;\n  }\n\n  const myPath = this.$__pathRelativeToParent().replace(/\\.$/, '');\n  if (parent.isDirectModified(myPath) || this.isNew) {\n    return;\n  }\n  this.$__parent.markModified(fullPath, this);\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.isModified = function(paths, options, modifiedPaths) {\n  const parent = this.$parent();\n  if (parent != null) {\n    if (Array.isArray(paths) || typeof paths === 'string') {\n      paths = (Array.isArray(paths) ? paths : paths.split(' '));\n      paths = paths.map(p => this.$__pathRelativeToParent(p)).filter(p => p != null);\n    } else if (!paths) {\n      paths = this.$__pathRelativeToParent();\n    }\n\n    return parent.$isModified(paths, options, modifiedPaths);\n  }\n\n  return Document.prototype.isModified.call(this, paths, options, modifiedPaths);\n};\n\n/**\n * Marks a path as valid, removing existing validation errors.\n *\n * @param {String} path the field to mark as valid\n * @api private\n * @method $markValid\n * @memberOf Subdocument\n */\n\nSubdocument.prototype.$markValid = function(path) {\n  Document.prototype.$markValid.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$markValid(fullPath);\n  }\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.invalidate = function(path, err, val) {\n  Document.prototype.invalidate.call(this, path, err, val);\n\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.invalidate(fullPath, err, val);\n  } else if (err.kind === 'cast' || err.name === 'CastError' || fullPath == null) {\n    throw err;\n  }\n\n  return this.ownerDocument().$__.validationError;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$ignore = function(path) {\n  Document.prototype.$ignore.call(this, path);\n  const parent = this.$parent();\n  const fullPath = this.$__pathRelativeToParent(path);\n  if (parent != null && fullPath != null) {\n    parent.$ignore(fullPath);\n  }\n};\n\n/**\n * Returns the top level document of this sub-document.\n *\n * @return {Document}\n */\n\nSubdocument.prototype.ownerDocument = function() {\n  if (this.$__.ownerDocument) {\n    return this.$__.ownerDocument;\n  }\n\n  let parent = this;\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, true));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  this.$__.fullPath = paths.join('.');\n\n  this.$__.ownerDocument = parent;\n  return this.$__.ownerDocument;\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.$__fullPathWithIndexes = function() {\n  let parent = this;\n  const paths = [];\n  const seenDocs = new Set([parent]);\n\n  while (true) {\n    if (typeof parent.$__pathRelativeToParent !== 'function') {\n      break;\n    }\n    paths.unshift(parent.$__pathRelativeToParent(void 0, false));\n    const _parent = parent.$parent();\n    if (_parent == null) {\n      break;\n    }\n    parent = _parent;\n    if (seenDocs.has(parent)) {\n      throw new Error('Infinite subdocument loop: subdoc with _id ' + parent._id + ' is a parent of itself');\n    }\n\n    seenDocs.add(parent);\n  }\n\n  return paths.join('.');\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n */\n\nSubdocument.prototype.parent = function() {\n  return this.$__parent;\n};\n\n/**\n * Returns this sub-documents parent document.\n *\n * @api public\n * @method $parent\n */\n\nSubdocument.prototype.$parent = Subdocument.prototype.parent;\n\n/*!\n * Sets this sub-documents parent document.\n *\n * @api private\n */\n\nSubdocument.prototype.$__setParent = function $__setParent(parent) {\n  this.$__parent = parent;\n};\n\n/**\n * ignore\n * @method $__removeFromParent\n * @memberOf Subdocument\n * @instance\n * @api private\n */\n\nSubdocument.prototype.$__removeFromParent = function() {\n  this.$__parent.set(this.$basePath, null);\n};\n\n/**\n * Null-out this subdoc\n *\n * @param {Object} [options]\n */\n\nSubdocument.prototype.deleteOne = function deleteOne(options) {\n  registerRemoveListener(this);\n\n  // If removing entire doc, no need to remove subdoc\n  if (!options?.noop) {\n    this.$__removeFromParent();\n\n    const owner = this.ownerDocument();\n    owner.$__.removedSubdocs = owner.$__.removedSubdocs || [];\n    owner.$__.removedSubdocs.push(this);\n  }\n};\n\n/*!\n * ignore\n */\n\nSubdocument.prototype.populate = function() {\n  throw new Error('Mongoose does not support calling populate() on nested ' +\n    'docs. Instead of `doc.nested.populate(\"path\")`, use ' +\n    '`doc.populate(\"nested.path\")`');\n};\n\n/**\n * Helper for console.log\n *\n * @api public\n */\n\nSubdocument.prototype.inspect = function() {\n  return this.toObject();\n};\n\nif (util.inspect.custom) {\n  // Avoid Node deprecation warning DEP0079\n  Subdocument.prototype[util.inspect.custom] = Subdocument.prototype.inspect;\n}\n\n/**\n * Override `$toObject()` to handle minimizing the whole path. Should not minimize if schematype-level minimize\n * is set to false re: gh-11247, gh-14058, gh-14151\n */\n\nSubdocument.prototype.$toObject = function $toObject(options, json) {\n  const ret = Document.prototype.$toObject.call(this, options, json);\n\n  // If `$toObject()` was called recursively, respect the minimize option, including schematype level minimize.\n  // If minimize is set, then we can minimize out the whole object.\n  if (utils.hasOwnKeys(ret) === false && options?._calledWithOptions != null) {\n    const minimize = options._calledWithOptions?.minimize ?? this?.$__schemaTypeOptions?.minimize ?? options.minimize;\n    if (minimize && !this.constructor.$__required) {\n      return undefined;\n    }\n  }\n  return ret;\n};\n\n/**\n * Registers remove event listeners for triggering\n * on subdocuments.\n *\n * @param {Subdocument} sub\n * @api private\n */\n\nfunction registerRemoveListener(sub) {\n  const owner = sub.ownerDocument();\n\n  function emitRemove() {\n    owner.$removeListener('save', emitRemove);\n    owner.$removeListener('deleteOne', emitRemove);\n    sub.emit('deleteOne', sub);\n    sub.constructor.emit('deleteOne', sub);\n  }\n\n  owner.$on('save', emitRemove);\n  owner.$on('deleteOne', emitRemove);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}